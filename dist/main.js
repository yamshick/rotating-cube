(()=>{"use strict";var t={128:(t,e,r)=>{r.d(e,{Z:()=>i});var n=r(537),o=r.n(n),a=r(645),s=r.n(a)()(o());s.push([t.id,"div {\r\n\tfont-size: 40px;\r\n\ttext-align: center;\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\ncanvas {\r\n\tdisplay: block;\r\n\tmargin: auto;\r\n\tbackground-color: black;\r\n}\r\n","",{version:3,sources:["webpack://./src/style.module.css"],names:[],mappings:"AAAA;CACC,eAAe;CACf,kBAAkB;CAClB,mBAAmB;AACpB;;AAEA;CACC,cAAc;CACd,YAAY;CACZ,uBAAuB;AACxB",sourcesContent:["div {\r\n\tfont-size: 40px;\r\n\ttext-align: center;\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\ncanvas {\r\n\tdisplay: block;\r\n\tmargin: auto;\r\n\tbackground-color: black;\r\n}\r\n"],sourceRoot:""}]),s.locals={};const i=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);n&&s[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},537:t=>{t.exports=function(t){var e=t[1],r=t[3];if(!r)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),a="/*# ".concat(o," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},379:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var a={},s=[],i=0;i<t.length;i++){var c=t[i],l=n.base?c[0]+n.base:c[0],u=a[l]||0,h="".concat(l," ").concat(u);a[l]=u+1;var p=r(h),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var g=o(d,n);n.byIndex=i,e.splice(i,0,{identifier:h,updater:g,references:1})}s.push(h)}return s}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var a=n(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<a.length;s++){var i=r(a[s]);e[i].references--}for(var c=n(t,o),l=0;l<a.length;l++){var u=r(a[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}a=c}}},569:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={id:n,exports:{}};return t[n](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0,(()=>{const t=document.getElementById("canvas").getContext("2d");class e{print(){console.log("Point: ",this.getX(),this.getY(),this.getZ())}constructor(t,e,r){var n=t,o=e,a=r;this.getX=function(){return n},this.getY=function(){return o},this.getZ=function(){return a}}copy(){return new e(this.getX(),this.getY(),this.getZ())}add(t,r=1){return new e(this.getX()+r*t.getX(),this.getY()+r*t.getY(),this.getZ()+r*t.getZ())}scale(t){return new e(this.getX()*t,this.getY()*t,this.getZ()*t)}subtract(t){return this.add(t,-1)}scalarProduct(t){return this.getX()*t.getX()+this.getY()*t.getY()+this.getZ()*t.getZ()}norm(){return Math.sqrt(this.scalarProduct(this))}normalize(){return this.scale(1/this.norm())}rotateX(t){let r=this.getX(),n=this.getY(),o=this.getZ();return new e(r,Math.cos(t)*n-Math.sin(t)*o,Math.sin(t)*n+Math.cos(t)*o)}rotateY(t){let r=this.getX(),n=this.getY(),o=this.getZ();return new e(Math.cos(t)*r-Math.sin(t)*o,n,Math.sin(t)*r+Math.cos(t)*o)}rotateZ(t){let r=this.getX(),n=this.getY(),o=this.getZ();return new e(Math.cos(t)*r-Math.sin(t)*n,Math.sin(t)*r+Math.cos(t)*n,o)}draw(t,e=3,r="#f0f0f0",n,o){let a=this.perspectiveProjection(n,o);t.beginPath(),t.arc(a.x,a.y,e,0,2*Math.PI),t.fillStyle=r,t.fill()}drawLineTo(t,e,r="#f0f0f0",n,o){let a=this.perspectiveProjection(n,o),s=t.perspectiveProjection(n,o);e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(s.x,s.y),e.strokeStyle=r,e.stroke()}perspectiveProjection(t,e,r=1){let n=t.norm(),o=e.norm(),a=t.getX(),s=t.getY(),i=t.getZ(),c=Math.abs(Math.atan(a/i));a>0&&i<0?c=Math.PI-c:a<0&&i<0?c=Math.PI+c:a<0&&i>0&&(c=-c);let l=Math.asin(s/n),u=this.rotateY(c).rotateX(l);return{x:600*(r*u.getX()*(n-o)/(n-u.getZ())- -2)/4,y:600*(1-(r*u.getY()*(n-o)/(n-u.getZ())- -2)/4)}}}class n{constructor(t=2){this.xAxis=new e(t,0,0),this.yAxis=new e(0,t,0),this.zAxis=new e(0,0,t)}drawAxis(t,e,r,n,o){let a=e.perspectiveProjection(n,o);t.save(),t.beginPath(),t.setLineDash([5,15]),t.moveTo(300,300),t.strokeStyle=r,t.lineTo(a.x,a.y),t.stroke(),t.restore()}draw(t,e=[],r,n){this.drawAxis(t,this.xAxis,e[0],r,n),this.drawAxis(t,this.yAxis,e[1],r,n),this.drawAxis(t,this.zAxis,e[2],r,n)}}class o{print(){console.log("Polygon"),this.vertices.forEach((t=>{console.log(t),console.log(t.getX(),t.getY(),t.getZ())}))}constructor(){this.vertices=[];for(let t=0;t<arguments.length;t++)this.vertices.push(arguments[t])}moveTo(t){this.vertices.forEach((e=>e.add(t)))}countCenter(){let t=new e(0,0,0);return this.vertices.forEach((e=>t=t.add(e))),t.scale(1/this.vertices.length)}countNormal(){let t=this.vertices[0],r=this.vertices[1],n=this.vertices[2],o=r.subtract(t),a=n.subtract(t),s=o.getX(),i=o.getY(),c=o.getZ(),l=a.getX(),u=a.getY(),h=a.getZ();return new e(i*h-c*u,-(s*h-c*l),s*u-i*l)}rotateX(t){let e=this.vertices.map((e=>e.rotateX(t)));return new o(...e)}rotateY(t){let e=this.vertices.map((e=>e.rotateY(t)));return new o(...e)}rotateZ(t){let e=this.vertices.map((e=>e.rotateZ(t)));return new o(...e)}drawPoints(t,e=3,r="white",n,o){this.vertices.forEach((a=>a.draw(t,e,r,n,o)))}drawCenter(t,e=3,r="white",n,o){this.countCenter().draw(t,e,r,n,o)}fillColor(t,e="white",r,n){let o=this.vertices.map((t=>t.perspectiveProjection(r,n))),a=o[0];t.beginPath(),t.moveTo(a.x,a.y);for(let e=1;e<o.length;e++)t.lineTo(o[e].x,o[e].y);t.lineTo(a.x,a.y),t.strokeStyle="black",t.fillStyle=e,t.stroke(),t.fill()}isVisible(t){let e=t.subtract(this.countCenter());return this.countNormal().scalarProduct(e)>0}drawNormal(t,e="red",r,n){let o=this.countCenter(),a=this.countNormal().normalize(),s=o.add(a);o.draw(t,2,e,r,n),o.drawLineTo(s,t,e,r,n),s.draw(t,1,e,r,n)}}class a{constructor(){this.polygons=[];for(let t=0;t<arguments.length;t++)this.polygons.push(arguments[t])}rotateX(t){let e=this.polygons.map((e=>e.rotateX(t)));return new a(...e)}rotateY(t){let e=this.polygons.map((e=>e.rotateY(t)));return new a(...e)}rotateZ(t){let e=this.polygons.map((e=>e.rotateZ(t)));return new a(...e)}drawFaces(t,e,r,n){this.polygons.forEach(((o,a)=>{o.isVisible(r)&&o.fillColor(t,e[a],r,n)}))}drawNormals(t,e,r,n){this.polygons.forEach(((o,a)=>{o.isVisible(r)&&o.drawNormal(t,e[a],r,n)}))}}var s=r(379),i=r.n(s),c=r(795),l=r.n(c),u=r(569),h=r.n(u),p=r(565),d=r.n(p),g=r(216),f=r.n(g),v=r(589),w=r.n(v),m=r(128),y={};y.styleTagTransform=w(),y.setAttributes=d(),y.insert=h().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=f(),i()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals;const A=["skyblue","pink","yellow","cyan","white","magenta"],b={A:new e(-1,-1,1),B:new e(1,-1,1),C:new e(1,-1,-1),D:new e(-1,-1,-1),A1:new e(-1,1,1),B1:new e(1,1,1),C1:new e(1,1,-1),D1:new e(-1,1,-1)},x=function(){const t=b;return[new o(t.A,t.D,t.C,t.B),new o(t.A1,t.B1,t.C1,t.D1),new o(t.A,t.B,t.B1,t.A1),new o(t.C,t.D,t.D1,t.C1),new o(t.D,t.A,t.A1,t.D1),new o(t.B1,t.B,t.C,t.C1)]}();let C=new e(3,4,3);!function(e,r,o){let s=0,i=10*Math.PI,c=0,l=10*Math.PI,u=0,h=10*Math.PI,p=new n(3),d=new a(...x);!function e(){t.fillStyle="black",t.fillRect(0,0,600,600);let r=C,n=r.scale(.3);d=d.rotateX(.005).rotateY(.01).rotateZ(.003),d.drawFaces(t,A,r,n),d.drawNormals(t,[],r,n),p.draw(t,["#f00000","#00f000","#0000f0"],C,C.scale(.3)),s<i&&c<l&&u<h&&(s+=.005,c+=.01,u+=.003,requestAnimationFrame(e))}()}(),document.addEventListener("keydown",(function(t){switch(t.key){case"ArrowLeft":C=C.rotateY(Math.PI/12);break;case"ArrowRight":C=C.rotateY(-Math.PI/12);break;case"ArrowUp":C.getY()<20&&(C=new e(C.getX(),C.getY()+.3,C.getZ()));break;case"ArrowDown":C.getY()>-20&&(C=new e(C.getX(),C.getY()-.3,C.getZ()));break;default:return}}))})()})();
//# sourceMappingURL=main.js.map